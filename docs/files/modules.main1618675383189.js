(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["modules"],{

/***/ "./node_modules/lodash.debounce/index.js":
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./node_modules/lodash.debounce/index.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/modules/about.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return about; });\n/* harmony import */ var _about_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/modules/about.scss\");\n/* harmony import */ var _about_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_about_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/lean-tag/dist/lean-tag.js\");\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lean_tag__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var services_panel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/services/panel/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/modules/icons/index.js\");\n\n\n\n\n\nvar LS_KEY = 'tracker-poznan-about1';\n\nfunction getPanelContent() {\n  return [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('p', \"Find closest communication, shops and other POI (Points Of Interest).\"), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header', 'Terms of use'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('ol', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'You\\'re using this application on your own.'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'I claim no rights to the presented data.'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'I take no responsibility for any actions based on this app or its contents.'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'Data was collected using resources available on the internet.')), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header', 'Usage'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].plus\n  }), 'Zoom in'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minus\n  }), 'Zoom out'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].settings\n  }), 'Change displayed and measured POIs'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].measure\n  }), 'Display details about closest POIs'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].custom\n  }), 'Click on map to find closest POIs'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].currentLocation\n  }), 'Follow current location to find closest POIs'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].center\n  }), 'Focus map on the Kaponiera'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n    src: _icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].about\n  }), 'Show this panel again')), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header', 'Measuring distances'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('p', \"Distances are measured in straight line - no obstacles are taken into account (rivers, roads, etc.).\\nFinding closest points would require a payed API, with a lot of requests needed.\"), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header', 'Potential next features'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('ul', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'Search by address'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'Translating current location to an address'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'Button to reset to see all items (selected or not)'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li', 'Allow finding any 3 closest shops, no matter the group')), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header', 'Have fun!')];\n}\n\nfunction about() {\n  var buttonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"].about, 'About', togglePanel); // eslint-disable-line no-use-before-define\n\n  function openPanel() {\n    buttonEl.classList.add('is-active');\n    services_panel__WEBPACK_IMPORTED_MODULE_3__[\"default\"].show('Poznan tracker', function () {\n      return buttonEl.classList.remove('is-active');\n    }, getPanelContent());\n  }\n\n  function togglePanel() {\n    if (buttonEl.classList.contains('is-active')) {\n      services_panel__WEBPACK_IMPORTED_MODULE_3__[\"default\"].hide();\n      buttonEl.classList.remove('is-active');\n    } else {\n      openPanel();\n    }\n  }\n\n  var serialized = localStorage.getItem(LS_KEY);\n\n  if (!serialized) {\n    openPanel();\n    localStorage.setItem(LS_KEY, '1');\n  }\n}\n\n//# sourceURL=webpack:///./src/modules/about.js?");

/***/ }),

/***/ "./src/modules/about.scss":
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/modules/about.scss?");

/***/ }),

/***/ "./src/modules/center.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return custom; });\n/* harmony import */ var services_bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/bounds/index.js\");\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/modules/icons/index.js\");\n\n\n\nvar KAPONIERA_LAT = 52.40777954910866;\nvar KAPONIERA_LNG = 16.912470459938053;\nvar KAPONIERA_LAT_LNG = [KAPONIERA_LAT, KAPONIERA_LNG];\nfunction custom(mapInstance) {\n  services_buttonBar__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_2__[\"default\"].center, 'Center on Kaponiera', function () {\n    services_bounds__WEBPACK_IMPORTED_MODULE_0__[\"default\"].centerMap(mapInstance, KAPONIERA_LAT_LNG);\n  });\n}\n\n//# sourceURL=webpack:///./src/modules/center.js?");

/***/ }),

/***/ "./src/modules/custom.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return custom; });\n/* harmony import */ var services_activeLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/activeLocation/index.js\");\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/modules/icons/index.js\");\n\n\n\nfunction custom(mapInstance) {\n  function showCustomLocation(ev) {\n    services_activeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setLocation([ev.latlng.lat, ev.latlng.lng]);\n  }\n\n  var buttonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_2__[\"default\"].custom, 'Click on map', function () {\n    var isActive = buttonEl.classList.contains('is-active');\n    buttonEl.classList.toggle('is-active', !isActive);\n    window.tpMap.style.cursor = isActive ? '' : 'pointer';\n    mapInstance.off('click', showCustomLocation);\n\n    if (!isActive) {\n      mapInstance.on('click', showCustomLocation);\n    }\n  });\n}\n\n//# sourceURL=webpack:///./src/modules/custom.js?");

/***/ }),

/***/ "./src/modules/icons/about.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/about.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/about.png?");

/***/ }),

/***/ "./src/modules/icons/center.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/center.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/center.png?");

/***/ }),

/***/ "./src/modules/icons/currentLocation.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/currentLocation.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/currentLocation.png?");

/***/ }),

/***/ "./src/modules/icons/custom.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/custom.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/custom.png?");

/***/ }),

/***/ "./src/modules/icons/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _about_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/modules/icons/about.png\");\n/* harmony import */ var _center_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/modules/icons/center.png\");\n/* harmony import */ var _currentLocation_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/modules/icons/currentLocation.png\");\n/* harmony import */ var _custom_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/modules/icons/custom.png\");\n/* harmony import */ var _measure_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/modules/icons/measure.png\");\n/* harmony import */ var _minus_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/modules/icons/minus.png\");\n/* harmony import */ var _plus_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/modules/icons/plus.png\");\n/* harmony import */ var _settings_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/modules/icons/settings.png\");\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  about: _about_png__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  center: _center_png__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  custom: _custom_png__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  measure: _measure_png__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  currentLocation: _currentLocation_png__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  settings: _settings_png__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  plus: _plus_png__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  minus: _minus_png__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n});\n\n//# sourceURL=webpack:///./src/modules/icons/index.js?");

/***/ }),

/***/ "./src/modules/icons/measure.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/measure.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/measure.png?");

/***/ }),

/***/ "./src/modules/icons/minus.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/minus.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/minus.png?");

/***/ }),

/***/ "./src/modules/icons/plus.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/plus.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/plus.png?");

/***/ }),

/***/ "./src/modules/icons/settings.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/settings.png\");\n\n//# sourceURL=webpack:///./src/modules/icons/settings.png?");

/***/ }),

/***/ "./src/modules/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return runModules; });\n/* harmony import */ var _about__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/modules/about.js\");\n/* harmony import */ var _center__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/modules/center.js\");\n/* harmony import */ var _custom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/modules/custom.js\");\n/* harmony import */ var _lines__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/modules/lines.js\");\n/* harmony import */ var _locate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/modules/locate.js\");\n/* harmony import */ var _markers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/modules/markers.js\");\n/* harmony import */ var _measure__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/modules/measure.js\");\n/* harmony import */ var _persistence__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/modules/persistence.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/modules/settings.js\");\n/* harmony import */ var _zoom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/modules/zoom.js\");\n\n\n\n\n\n\n\n\n\n // order defines buttons in the bar\n\nvar modules = [_persistence__WEBPACK_IMPORTED_MODULE_7__[\"default\"], _zoom__WEBPACK_IMPORTED_MODULE_9__[\"default\"], _settings__WEBPACK_IMPORTED_MODULE_8__[\"default\"], _measure__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _markers__WEBPACK_IMPORTED_MODULE_5__[\"default\"], _lines__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _locate__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _custom__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _center__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _about__WEBPACK_IMPORTED_MODULE_0__[\"default\"]];\nfunction runModules(mapInstance) {\n  modules.forEach(function (fn) {\n    return fn(mapInstance);\n  });\n}\n\n//# sourceURL=webpack:///./src/modules/index.js?");

/***/ }),

/***/ "./src/modules/lines.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return lines; });\n/* harmony import */ var _about_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/modules/about.scss\");\n/* harmony import */ var _about_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_about_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/leaflet/dist/leaflet-src.js\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var services_activeLocation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/services/activeLocation/index.js\");\n/* harmony import */ var services_bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/services/bounds/index.js\");\n/* harmony import */ var services_groups__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/services/groups/index.js\");\n/* harmony import */ var services_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/services/settings/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/modules/icons/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\nvar myIcon = leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.icon({\n  iconUrl: _icons__WEBPACK_IMPORTED_MODULE_6__[\"default\"].currentLocation,\n  iconSize: [32, 32],\n  iconAnchor: [16, 32],\n  popupAnchor: [0, 0]\n});\nvar layers = [];\n\nfunction removeDistances() {\n  layers.forEach(function (polyline) {\n    return polyline.remove();\n  });\n  layers = [];\n}\n\nfunction showDistances(sources, mapInstance, latlng) {\n  var _layers;\n\n  var clickMarker = new leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.Marker(latlng, {\n    // todo can be array or has to be object?\n    icon: myIcon\n  });\n  var polylines = sources.map(function (group) {\n    return leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.polyline([group.closest.map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          item = _ref2[1];\n\n      return [[item.latitude, item.longitude], latlng];\n    })], {\n      weight: 2,\n      color: group.color,\n      dashArray: [4, 4]\n    });\n  });\n  var iconsLayer = leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.layerGroup(sources.filter(function (group) {\n    return !services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getSetting(group.id).isVisible;\n  }).flatMap(function (group) {\n    return group.closest.map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          item = _ref4[1];\n\n      return leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.marker([item.latitude, item.longitude], {\n        icon: group.iconLayer\n      }).bindPopup(item.popupHtml);\n    });\n  }));\n\n  (_layers = layers).push.apply(_layers, _toConsumableArray(polylines).concat([iconsLayer, clickMarker]));\n\n  layers.forEach(function (layer) {\n    return mapInstance.addLayer(layer);\n  });\n}\n\nfunction lines(mapInstance) {\n  function showLines() {\n    removeDistances();\n    var latlng = services_activeLocation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocation();\n\n    if (!latlng) {\n      return;\n    }\n\n    var measuredGroups = services_groups__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filter(function (group) {\n      return !!services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getSetting(group.id).isMeasured;\n    });\n    showDistances(measuredGroups, mapInstance, latlng);\n    var items = measuredGroups.flatMap(function (source) {\n      return source.closest.map(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            item = _ref6[1];\n\n        return item;\n      });\n    });\n    services_bounds__WEBPACK_IMPORTED_MODULE_3__[\"default\"].fitMinimalBounds(mapInstance, [].concat(_toConsumableArray(items), [{\n      latitude: latlng[0],\n      longitude: latlng[1]\n    }]));\n  }\n\n  services_activeLocation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addCallback(showLines);\n  services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].addCallback(showLines);\n}\n\n//# sourceURL=webpack:///./src/modules/lines.js?");

/***/ }),

/***/ "./src/modules/locate.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return currentLocation; });\n/* harmony import */ var services_activeLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/activeLocation/index.js\");\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/modules/icons/index.js\");\n\n\n\nfunction currentLocation(mapInstance) {\n  var watchId;\n\n  function success(position) {\n    var _position$coords = position.coords,\n        latitude = _position$coords.latitude,\n        longitude = _position$coords.longitude;\n    mapInstance.setView([latitude, longitude]);\n    services_activeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setLocation([latitude, longitude]);\n  }\n\n  function error() {\n    alert('Unable to follow your location');\n  }\n\n  var buttonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_2__[\"default\"].currentLocation, 'Follow current location', function () {\n    var isActive = !buttonEl.classList.contains('is-active');\n    buttonEl.classList.toggle('is-active', isActive);\n\n    if (isActive && !watchId) {\n      watchId = navigator.geolocation.watchPosition(success, error, {\n        enableHighAccuracy: true,\n        maximumAge: 5000\n      });\n    }\n\n    if (!isActive && watchId) {\n      navigator.geolocation.clearWatch(watchId);\n      watchId = null;\n    }\n  });\n}\n\n//# sourceURL=webpack:///./src/modules/locate.js?");

/***/ }),

/***/ "./src/modules/markers.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return markers; });\n/* harmony import */ var services_groups__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/groups/index.js\");\n/* harmony import */ var _services_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/services/settings/index.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\nfunction showGroups(mapInstance) {\n  services_groups__WEBPACK_IMPORTED_MODULE_0__[\"default\"].forEach(function (group) {\n    var setting = _services_settings__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getSetting(group.id);\n\n    if (setting.isVisible) {\n      mapInstance.addLayer(group.layer);\n    } else {\n      mapInstance.removeLayer(group.layer);\n    }\n\n    group.rangeLayers.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          layer = _ref2[1];\n\n      return mapInstance.removeLayer(layer);\n    });\n    var rangeToShow = group.rangeLayers.find(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n          key = _ref4[0];\n\n      return key == setting.showRange;\n    }); // eslint-disable-line eqeqeq\n\n    rangeToShow && mapInstance.addLayer(rangeToShow[1]);\n  });\n}\n\nfunction markers(mapInstance) {\n  _services_settings__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addCallback(function () {\n    return showGroups(mapInstance);\n  });\n  showGroups(mapInstance);\n}\n\n//# sourceURL=webpack:///./src/modules/markers.js?");

/***/ }),

/***/ "./src/modules/measure.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return measure; });\n/* harmony import */ var _meaure_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/modules/meaure.scss\");\n/* harmony import */ var _meaure_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_meaure_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/lean-tag/dist/lean-tag.js\");\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lean_tag__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var services_activeLocation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/services/activeLocation/index.js\");\n/* harmony import */ var services_bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/services/bounds/index.js\");\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var services_groups__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/services/groups/index.js\");\n/* harmony import */ var services_panel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/services/panel/index.js\");\n/* harmony import */ var services_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/services/settings/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/modules/icons/index.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n\n\n\n\nfunction getCategoryRows(categoryLabel, categoryGroups, mapInstance) {\n  return categoryGroups.length ? [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header', categoryLabel)].concat(_toConsumableArray(categoryGroups.flatMap(function (group) {\n    return [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.measure-subheader', group.label), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('ol', group.closest.map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          dist = _ref2[0],\n          _ref2$ = _ref2[1],\n          label = _ref2$.label,\n          latitude = _ref2$.latitude,\n          longitude = _ref2$.longitude,\n          _ref2$$closestLines = _ref2$.closestLines,\n          closestLines = _ref2$$closestLines === void 0 ? [] : _ref2$$closestLines;\n\n      return lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('li.measure-link', \"\".concat(label, \" (\").concat((dist * 1000).toFixed(0), \"m)\").concat(closestLines.length ? ': ' : '').concat(closestLines.join(', ')), {\n        onclick: function onclick() {\n          return services_bounds__WEBPACK_IMPORTED_MODULE_3__[\"default\"].centerMap(mapInstance, [latitude, longitude]);\n        }\n      });\n    }))];\n  }))) : [];\n}\n\nfunction getPanelContents(mapInstance) {\n  var latLng = services_activeLocation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocation();\n\n  if (!latLng) {\n    return lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__subheader', 'Select a point on map using one of the options:'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n      src: _icons__WEBPACK_IMPORTED_MODULE_8__[\"default\"].custom\n    }), 'Click on map to find closest POIs'), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n      src: _icons__WEBPACK_IMPORTED_MODULE_8__[\"default\"].currentLocation\n    }), 'Use current location to find closest POIs'));\n  }\n\n  var measuredGroups = services_groups__WEBPACK_IMPORTED_MODULE_5__[\"default\"].filter(function (group) {\n    return services_settings__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getSetting(group.id).isMeasured && group.closest.length;\n  });\n\n  if (!measuredGroups.length) {\n    return lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tutorial__item', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tutorial__icon', {\n      src: _icons__WEBPACK_IMPORTED_MODULE_8__[\"default\"].settings\n    }), 'Set some measured POIs');\n  }\n\n  var transport = measuredGroups.filter(function (group) {\n    return group.category === 'transport';\n  });\n  var shop = measuredGroups.filter(function (group) {\n    return group.category === 'shop';\n  });\n  var misc = measuredGroups.filter(function (group) {\n    return group.category === 'misc';\n  });\n  return [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('.measure-link.measure-header', \"Selected: \".concat(latLng.map(function (num) {\n    return num.toFixed(5);\n  }).join(','))), getCategoryRows('Transport', transport, mapInstance), getCategoryRows('Shops', shop, mapInstance), getCategoryRows('Miscellaneous', misc, mapInstance)].flat();\n}\n\nfunction measure(mapInstance) {\n  var buttonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_8__[\"default\"].measure, 'Show distances', togglePanel); // eslint-disable-line no-use-before-define\n\n  function openPanel() {\n    var content = getPanelContents(mapInstance);\n    services_panel__WEBPACK_IMPORTED_MODULE_6__[\"default\"].show(\"Closest points\", function () {\n      return buttonEl.classList.remove('is-active');\n    }, content);\n    buttonEl.classList.add('is-active');\n  }\n\n  function togglePanel() {\n    if (buttonEl.classList.contains('is-active')) {\n      services_panel__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hide();\n      buttonEl.classList.remove('is-active');\n    } else {\n      openPanel();\n    }\n  }\n\n  function checkOpenPanel() {\n    if (buttonEl.classList.contains('is-active')) {\n      openPanel();\n    }\n  }\n\n  services_activeLocation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addCallback(checkOpenPanel);\n  services_settings__WEBPACK_IMPORTED_MODULE_7__[\"default\"].addCallback(checkOpenPanel);\n}\n\n//# sourceURL=webpack:///./src/modules/measure.js?");

/***/ }),

/***/ "./src/modules/meaure.scss":
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/modules/meaure.scss?");

/***/ }),

/***/ "./src/modules/persistence.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return persistence; });\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/lodash.debounce/index.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var services_bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/services/bounds/index.js\");\n/* harmony import */ var services_groups__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/services/groups/index.js\");\n/* harmony import */ var services_persistence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/services/persistence/index.js\");\n/* harmony import */ var services_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/services/settings/index.js\");\n\n\n\n\n\n\nfunction restoreLatLngZoom(mapInstance) {\n  if (services_persistence__WEBPACK_IMPORTED_MODULE_3__[\"default\"].wasRestored()) {\n    return;\n  }\n\n  var visibleGroups = services_groups__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filter(function (group) {\n    return services_settings__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getSetting(group.id).isVisible;\n  });\n  var chosenGroups = visibleGroups.length ? visibleGroups : services_groups__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n  var items = chosenGroups.flatMap(function (group) {\n    return group.items;\n  });\n  services_bounds__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fitMinimalBounds(mapInstance, items);\n}\n\nvar saveLatLngZoom = lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function (_ref) {\n  var target = _ref.target;\n  var latlng = target.getCenter();\n  var zoom = target.getZoom();\n  services_persistence__WEBPACK_IMPORTED_MODULE_3__[\"default\"].saveLatLngZoom(latlng, zoom);\n}, 100);\nfunction persistence(mapInstance) {\n  restoreLatLngZoom(mapInstance);\n  mapInstance.on('zoomend', saveLatLngZoom);\n  mapInstance.on('moveend', saveLatLngZoom);\n}\n\n//# sourceURL=webpack:///./src/modules/persistence.js?");

/***/ }),

/***/ "./src/modules/settings.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return settingsModule; });\n/* harmony import */ var _settings_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/modules/settings.scss\");\n/* harmony import */ var _settings_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_settings_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/lean-tag/dist/lean-tag.js\");\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lean_tag__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var services_groups__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/services/groups/index.js\");\n/* harmony import */ var services_panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/services/panel/index.js\");\n/* harmony import */ var services_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/services/settings/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/modules/icons/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\nvar LIMIT_OPTIONS = [0, 1, 2, 3, 4, 5].map(function (value) {\n  return {\n    value: value,\n    label: value === 0 ? 'None' : value.toString()\n  };\n});\nvar categories = [{\n  id: 'transport',\n  label: 'Transport',\n  groups: services_groups__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filter(function (group) {\n    return group.category === 'transport';\n  })\n}, {\n  id: 'shops',\n  label: 'Shops',\n  groups: services_groups__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filter(function (group) {\n    return group.category === 'shop';\n  }),\n  allowLimit: true\n}, {\n  id: 'misc',\n  label: 'Miscellaneous',\n  groups: services_groups__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filter(function (group) {\n    return group.category === 'misc';\n  })\n}];\n\nfunction groupRow(group) {\n  var setting = services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getSetting(group.id);\n  return lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-settings-group', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tp-settings-group__img', {\n    src: group.iconUrl\n  }), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-settings-group__info', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('.tp-settings-group__label', group.label, {\n    style: {\n      color: group.color\n    }\n  }), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('.tp-settings__detail', \"\".concat(group.items.length, \" items\"))), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('label.tp-settings-group__cell', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('input', {\n    type: 'checkbox',\n    checked: !!setting.isVisible,\n    onchange: function onchange(ev) {\n      return services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].changeVisibility(group, ev.target.checked);\n    }\n  }), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div', \"Display\")), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('label.tp-settings-group__cell', lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('input', {\n    type: 'checkbox',\n    checked: !!setting.isMeasured,\n    onchange: function onchange(ev) {\n      return services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].changeMeasuring(group, ev.target.checked);\n    }\n  }), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-settings-group__text', \"Measure\")), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-settings-group__cell', group.rangeLayers.length > 1 ? [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('select', {\n    onchange: function onchange(ev) {\n      return services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].changeRange(group, ev.target.value);\n    },\n    value: setting.showRange || 0\n  }, group.rangeLayers.map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        key = _ref2[0];\n\n    return lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('option', \"\".concat(key, \"m\"), {\n      value: key,\n      selected: setting.showRange == key // eslint-disable-line eqeqeq\n\n    });\n  })), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-settings-group__text', 'Reach')] : []));\n}\n\nfunction getPanelContent() {\n  return categories.flatMap(function (category) {\n    return [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__subheader', category.label), category.allowLimit ? lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-settings__limit', [lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div', 'Limit total measured shops to: '), lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('select', {\n      onchange: function onchange(ev) {\n        return services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setShopLimit(ev.target.value);\n      },\n      value: services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getShopLimit()\n    }, LIMIT_OPTIONS.map(function (_ref3) {\n      var value = _ref3.value,\n          label = _ref3.label;\n      return lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('option', label, {\n        value: value,\n        selected: value == services_settings__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getShopLimit() // eslint-disable-line eqeqeq\n\n      });\n    }))]) : []].concat(_toConsumableArray(category.groups.map(groupRow)));\n  }).flat();\n}\n\nfunction settingsModule() {\n  var buttonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_6__[\"default\"].settings, 'Settings', togglePanel); // eslint-disable-line no-use-before-define\n\n  function openPanel() {\n    buttonEl.classList.add('is-active');\n    services_panel__WEBPACK_IMPORTED_MODULE_4__[\"default\"].show('Settings', function () {\n      return buttonEl.classList.remove('is-active');\n    }, getPanelContent());\n  }\n\n  function togglePanel() {\n    if (buttonEl.classList.contains('is-active')) {\n      services_panel__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hide();\n      buttonEl.classList.remove('is-active');\n    } else {\n      openPanel();\n    }\n  }\n}\n\n//# sourceURL=webpack:///./src/modules/settings.js?");

/***/ }),

/***/ "./src/modules/settings.scss":
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/modules/settings.scss?");

/***/ }),

/***/ "./src/modules/zoom.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return zoom; });\n/* harmony import */ var services_buttonBar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/buttonBar/index.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/modules/icons/index.js\");\n\n\nfunction zoom(mapInstance) {\n  function checkZoom(change) {\n    var maxZoom = mapInstance.getMaxZoom();\n    var minZoom = mapInstance.getMinZoom();\n    var current = mapInstance.getZoom() + change;\n    zoomInButtonEl.classList.toggle('is-disabled', !(current < maxZoom)); // eslint-disable-line no-use-before-define\n\n    zoomOutButtonEl.classList.toggle('is-disabled', !(current > minZoom)); // eslint-disable-line no-use-before-define\n  }\n\n  var zoomInButtonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_0__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_1__[\"default\"].plus, 'Zoom in', function () {\n    mapInstance.zoomIn();\n    checkZoom(1);\n  });\n  var zoomOutButtonEl = services_buttonBar__WEBPACK_IMPORTED_MODULE_0__[\"default\"].addButton(_icons__WEBPACK_IMPORTED_MODULE_1__[\"default\"].minus, 'Zoom out', function () {\n    mapInstance.zoomOut();\n    checkZoom(-1);\n  });\n  checkZoom(0);\n}\n\n//# sourceURL=webpack:///./src/modules/zoom.js?");

/***/ }),

/***/ "./src/services/activeLocation/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var services_groups__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/groups/index.js\");\n/* harmony import */ var services_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/services/settings/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/utils/index.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\nvar latlng;\nvar callbackFns = [];\n\nfunction setupClosest() {\n  var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (!latlng) {\n    return;\n  }\n\n  var measuredGroups = services_groups__WEBPACK_IMPORTED_MODULE_0__[\"default\"].filter(function (group) {\n    return services_settings__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getSetting(group.id).isMeasured;\n  });\n  var shopLimit = services_settings__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getShopLimit();\n  measuredGroups.forEach(function (group) {\n    var distances = group.items.map(function (item) {\n      return [Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"haversine\"])(latlng, [item.latitude, item.longitude]), item];\n    });\n    distances.sort(function (_ref, _ref2) {\n      var _ref3 = _slicedToArray(_ref, 1),\n          dist1 = _ref3[0];\n\n      var _ref4 = _slicedToArray(_ref2, 1),\n          dist2 = _ref4[0];\n\n      return dist1 - dist2;\n    });\n    group.closest = distances.slice(0, group.measureCount);\n  });\n\n  if (shopLimit > 0) {\n    var shopGroups = measuredGroups.filter(function (group) {\n      return group.category === 'shop';\n    });\n    var allItems = shopGroups.flatMap(function (group) {\n      return group.closest;\n    });\n    var limitedItems = allItems.sort(function (_ref5, _ref6) {\n      var _ref7 = _slicedToArray(_ref5, 1),\n          dist1 = _ref7[0];\n\n      var _ref8 = _slicedToArray(_ref6, 1),\n          dist2 = _ref8[0];\n\n      return dist1 - dist2;\n    }).slice(0, shopLimit);\n    var byGroup = limitedItems.reduce(function (map, item) {\n      if (map.has(item[1].group)) {\n        map.get(item[1].group).push(item);\n      } else {\n        map.set(item[1].group, [item]);\n      }\n\n      return map;\n    }, new Map());\n    shopGroups.forEach(function (group) {\n      group.closest = byGroup.get(group) || [];\n    });\n  }\n\n  !silent && callbackFns.forEach(function (fn) {\n    return fn();\n  });\n}\n\nfunction setLocation(newLatlng) {\n  var silent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  latlng = newLatlng;\n  setupClosest(true);\n  !silent && callbackFns.forEach(function (fn) {\n    return fn();\n  });\n}\n\nfunction getLocation() {\n  return latlng;\n}\n\nfunction addCallback(callbackFn) {\n  callbackFns.push(callbackFn);\n}\n\nservices_settings__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addCallback(function () {\n  return setupClosest(false);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  setLocation: setLocation,\n  getLocation: getLocation,\n  addCallback: addCallback,\n  setupClosest: setupClosest\n});\n\n//# sourceURL=webpack:///./src/services/activeLocation/index.js?");

/***/ }),

/***/ "./src/services/bounds/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/utils/index.js\");\n\n\nfunction fitMinimalBounds(mapInstance, pointList) {\n  var itemPoints = pointList.map(function (item) {\n    return [item.latitude, item.longitude];\n  });\n  var minimalBounds = Object(utils__WEBPACK_IMPORTED_MODULE_0__[\"getMinimalBounds\"])(itemPoints);\n  mapInstance.fitBounds(minimalBounds);\n}\n\nfunction centerMap(mapInstance, latLng) {\n  mapInstance.flyTo(latLng);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  fitMinimalBounds: fitMinimalBounds,\n  centerMap: centerMap\n}); // TODO Inject map (with a method)\n\n//# sourceURL=webpack:///./src/services/bounds/index.js?");

/***/ }),

/***/ "./src/services/buttonBar/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/buttonBar/styles.scss\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/lean-tag/dist/lean-tag.js\");\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lean_tag__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar barEl = window.tpBar;\n\nfunction addButton(icon, title, clickCallback) {\n  var buttonEl = lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-bar__button', {\n    title: title\n  }, lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img', {\n    src: icon\n  }), {\n    onclick: clickCallback\n  });\n  barEl.append(buttonEl);\n  return buttonEl;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  addButton: addButton\n});\n\n//# sourceURL=webpack:///./src/services/buttonBar/index.js?");

/***/ }),

/***/ "./src/services/buttonBar/styles.scss":
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/services/buttonBar/styles.scss?");

/***/ }),

/***/ "./src/services/panel/close.png":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/close.png\");\n\n//# sourceURL=webpack:///./src/services/panel/close.png?");

/***/ }),

/***/ "./src/services/panel/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/services/panel/styles.scss\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/lean-tag/dist/lean-tag.js\");\n/* harmony import */ var lean_tag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lean_tag__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _close_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/services/panel/close.png\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\nvar currentCallback;\n\nfunction callCallback() {\n  if (currentCallback) {\n    currentCallback();\n    currentCallback = null;\n  }\n}\n\nvar panelEl = lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel.is-hidden');\nvar headerEl = lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__header');\nvar contentEl = lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__content');\nvar closeEl = lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__close', {\n  onclick: function onclick() {\n    panelEl.classList.add('is-hidden');\n    callCallback();\n  }\n}, lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('img.tp-panel__img', {\n  src: _close_png__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n}));\nvar headlineEl = lean_tag__WEBPACK_IMPORTED_MODULE_1___default()('div.tp-panel__headline', headerEl, closeEl);\npanelEl.append(headlineEl, contentEl);\ndocument.body.append(panelEl);\n\nfunction show(title, closeCallback, contentEls) {\n  var newContent = Array.isArray(contentEls) ? contentEls : [contentEls];\n\n  if (currentCallback !== closeCallback) {\n    callCallback();\n  }\n\n  currentCallback = closeCallback;\n  headerEl.textContent = title;\n  panelEl.classList.remove('is-hidden');\n  contentEl.replaceChildren.apply(contentEl, _toConsumableArray(newContent));\n}\n\nfunction hide() {\n  panelEl.classList.add('is-hidden');\n  callCallback();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  show: show,\n  hide: hide\n});\n\n//# sourceURL=webpack:///./src/services/panel/index.js?");

/***/ }),

/***/ "./src/services/panel/styles.scss":
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/services/panel/styles.scss?");

/***/ }),

/***/ "./src/services/settings/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar callbacks = [];\nvar LS_KEY = 'tracker-poznan-settings3';\nvar settings = JSON.parse(localStorage.getItem(LS_KEY) || '{\"items\":{}}');\n\nfunction commitChanges() {\n  callbacks.forEach(function (fn) {\n    return fn();\n  });\n  localStorage.setItem(LS_KEY, JSON.stringify(settings));\n}\n\nfunction changeSetting(key, item, value) {\n  if (!settings.items[item.id]) {\n    settings.items[item.id] = {};\n  }\n\n  settings.items[item.id][key] = value;\n  commitChanges();\n}\n\nfunction setShopLimit(shopLimit) {\n  settings.shopLimit = shopLimit;\n  commitChanges();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  changeVisibility: changeSetting.bind(null, 'isVisible'),\n  changeMeasuring: changeSetting.bind(null, 'isMeasured'),\n  changeRange: changeSetting.bind(null, 'showRange'),\n  setShopLimit: setShopLimit,\n  getShopLimit: function getShopLimit() {\n    return settings.shopLimit || 0;\n  },\n  addCallback: callbacks.push.bind(callbacks),\n  getSetting: function getSetting(id) {\n    return settings.items[id] || {};\n  }\n});\n\n//# sourceURL=webpack:///./src/services/settings/index.js?");

/***/ })

}]);